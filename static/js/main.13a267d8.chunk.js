(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{12:function(e,t){var a=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())};e.exports={authFormValidation:function(e,t,s){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,i={};return""===t?i.email="Email is required":a(t)?i.email="valid":i.email="Invalid email address",""===s?i.password="Password is required":s.length<6?i.password="Password must not be less than 6":i.password="valid",""===c?(console.log(c),i.firstName="First name is required"):i.firstName="valid",i.lastName=""===n?"Last name is required":"valid",i.gender=""===r?"Gender is required":"valid",e(i),void 0===c?"valid"===i.email&&"valid"===i.password:"valid"===i.email&&"valid"===i.password&&"valid"===i.firstName&&"valid"===i.lastName&&"valid"===i.gender},validateEmail:a,addNewPostValidation:function(e,t,a,s,c,n){var r={};return""===t?r.title="Post title is required":t.length<4?r.title="Post title must not be less than 4 characters":r.title="valid",""===a?r.body="Post body is required":a.length<10||a.length<100?r.body="Post body must not be less than 100 character":r.body="valid",r.tags=""===s?"Post tags are required":"valid",r.image="new"===n&&""===c?"Post image is required":"valid",e(r),"valid"===r.title&&"valid"===r.body&&"valid"===r.tags&&"valid"===r.image}}},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(15),r=a.n(n),i=a(4),l=a(5),o=a(0),d=function(){return Object(o.jsxs)("footer",{className:"main-footer",children:[Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"col-md-4",children:[Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)("h6",{className:"text-white",children:"Blogy website"})}),Object(o.jsxs)("div",{className:"contact-details",children:[Object(o.jsx)("p",{children:"Egypt"}),Object(o.jsx)("p",{children:"Phone: (020) 1154866462"}),Object(o.jsxs)("p",{children:["Email: ",Object(o.jsx)("a",{href:"mailto:info@company.com",children:"devshennawy.com"})]}),Object(o.jsxs)("ul",{className:"social-menu",children:[Object(o.jsx)("li",{className:"list-inline-item",children:Object(o.jsx)("a",{href:"https://www.linkedin.com/in/lshennawy",target:"_blank",rel:"noopener noreferrer",children:Object(o.jsx)("i",{className:"fa fa-linkedin"})})}),Object(o.jsx)("li",{className:"list-inline-item",children:Object(o.jsx)("a",{href:"https://www.github.com/lshennawy",target:"_blank",rel:"noopener noreferrer",children:Object(o.jsx)("i",{className:"fa fa-github"})})}),Object(o.jsx)("li",{className:"list-inline-item",children:Object(o.jsx)("a",{href:"https://www.twitter.com/l_shennawy",target:"_blank",rel:"noopener noreferrer",children:Object(o.jsx)("i",{className:"fa fa-twitter"})})})]})]})]}),Object(o.jsx)("div",{className:"col-md-4"})]})}),Object(o.jsx)("div",{className:"copyrights",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-md-6",children:Object(o.jsx)("p",{children:"\xa9 2021. All rights reserved. Blogy."})}),Object(o.jsx)("div",{className:"col-md-6 text-right",children:Object(o.jsxs)("p",{children:["Template By ",Object(o.jsx)("a",{href:"https://bootstrapious.com/p/bootstrap-carousel",className:"text-white",children:"Bootstrapious"})]})})]})})})]})},j=a(3),b=a.n(j),m=a(6),u=a(2),h=function(){var e=Object(l.f)(),t=Object(l.g)().pathname,a=Object(s.useState)(JSON.parse(localStorage.getItem("user"))),c=Object(u.a)(a,2),n=c[0],r=c[1],d=Object(s.useCallback)(Object(m.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("http://localhost:5000/api","/logout"),{method:"POST",credentials:"include"});case 2:return t.next=4,t.sent.json();case 4:t.sent.msg&&(r(null),localStorage.clear(),e.push("/"));case 6:case"end":return t.stop()}}),t)}))),[]);return Object(s.useEffect)((function(){var e=(new Date).getTime();null!==n&&e>=n.expireAt&&(r(null),window.localStorage.clear())})),Object(o.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("div",{className:"navbar-header d-flex align-items-center justify-content-between",children:[Object(o.jsxs)(i.b,{to:"/",className:"navbar-brand",children:[Object(o.jsx)("i",{className:"fa fa-2x fa-newspaper-o"})," Blogy"]}),Object(o.jsxs)("button",{type:"button","data-toggle":"collapse","data-target":"#navbarcollapse","aria-controls":"navbarcollapse","aria-expanded":"false","aria-label":"Toggle navigation",className:"navbar-toggler",children:[Object(o.jsx)("span",{}),Object(o.jsx)("span",{}),Object(o.jsx)("span",{})]})]}),Object(o.jsx)("div",{id:"navbarcollapse",className:"collapse navbar-collapse",children:Object(o.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsxs)(i.b,{to:"/",className:"nav-link ".concat("/"===t?"active":""),children:[Object(o.jsx)("i",{className:"fa fa-home"})," Home"]})}),null!==n?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsxs)(i.b,{to:"/followings",className:"nav-link ".concat("/followings"===t?"active":""),children:[Object(o.jsx)("i",{className:"fa fa-group"})," People you follow"]})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsxs)(i.b,{to:"/myposts",className:"nav-link ".concat("/myposts"===t?"active":""),children:[Object(o.jsx)("i",{className:"fa fa-newspaper-o"})," My posts"]})})]}):"",null!==n?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsxs)(i.b,{to:"/posts/create",className:"nav-link ".concat("/posts/create"===t?"active":""),children:[Object(o.jsx)("i",{className:"fa fa-plus-circle"})," New Post"]})}),Object(o.jsx)("li",{children:Object(o.jsx)("div",{className:"navbar-text",children:Object(o.jsx)(i.b,{to:"/",className:"search-btn",children:Object(o.jsx)("i",{className:"icon-search-1"})})})})]}):"",null!==n?Object(o.jsxs)("span",{className:"d-md-flex",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsxs)(i.b,{to:"/profile",className:"nav-link ".concat("/profile"===t?"active":""),children:[Object(o.jsx)("i",{className:"fa fa-user"})," Profile"]})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsxs)("a",{href:"#",className:"nav-link",onClick:d,children:["Logout ",Object(o.jsx)("i",{className:"fa fa-sign-out"})]})})]}):Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(i.b,{to:"/login",className:"nav-link",children:"Login"})})]})})]})})},p=a(8),x=function(e){var t=new Date(e),a=t.toLocaleString("default",{month:"short"});return"".concat(a," ").concat(t.getFullYear())},O=function(e){if(e)return e.trim().split(" ").map((function(e,t){return Object(o.jsxs)("h5",{className:"mr-1 badge badge-warning font-weight-bold p-1",style:{fontSize:"0.8rem"},children:[" #",e]},t)}))},f=function(e){return new Promise((function(t,a){var s=new FileReader;s.readAsDataURL(e),s.onload=function(){return t(s.result)},s.onerror=function(e){return a(e)}}))},g=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(p.b)(e,{onClose:function(){return a?a.push(s):""},type:"success"===t?p.b.TYPE.SUCCESS:p.b.TYPE.ERROR,position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},v=function(e){var t=e.data;return Object(o.jsxs)("div",{className:"post col-xl-6",children:[Object(o.jsx)("div",{className:"post-thumbnail",children:Object(o.jsx)(i.b,{to:"/".concat(t.slug),children:Object(o.jsx)("img",{src:t.image?"".concat("http://localhost:5000/api","/uploads/").concat(t.image):"/img/blog-post-3.jpeg",alt:"...",className:" img-thumbnail w-100",style:{height:"20rem"}})})}),Object(o.jsxs)("div",{className:"post-details",children:[Object(o.jsxs)("div",{className:"post-meta d-flex justify-content-between",children:[Object(o.jsx)("div",{className:"date meta-last",children:x(t.created_at)}),Object(o.jsx)("div",{className:"category",children:O(t.tags)})]}),Object(o.jsx)("h3",{className:"h4",children:t.title}),Object(o.jsx)("p",{className:"text-muted",children:t.body.length>30?"".concat(t.body.substr(0,40)," ..."):t.body}),Object(o.jsx)("footer",{className:"post-footer d-flex align-items-center",children:Object(o.jsxs)(i.b,{to:"/profile",className:"author d-flex align-items-center flex-wrap",children:[Object(o.jsx)("div",{className:"avatar",children:Object(o.jsx)("img",{src:"/img/".concat(t.owner.avatar),alt:"...",className:"img-fluid"})}),Object(o.jsx)("div",{className:"title",children:Object(o.jsx)("span",{children:"".concat(t.owner.firstName," ").concat(t.owner.lastName)})})]})})]})]})},N=function(){var e=Object(m.a)(b.a.mark((function e(t){var a,s,c=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"",e.next=3,fetch("".concat("http://localhost:5000/api","/posts?page=").concat(t,"&search=").concat(a));case 3:return e.next=5,e.sent.json();case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(s.useState)(0),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(0),r=Object(u.a)(n,2),i=r[0],l=r[1],d=Object(s.useState)([]),j=Object(u.a)(d,2),h=j[0],p=j[1],x=Object(s.useState)([]),O=Object(u.a)(x,2),f=O[0],g=O[1],w=new Array(i).fill(null).map((function(e,t){return t})),y=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),f&&N(a,f).then((function(e){var t=e.totalPages,a=e.posts;p(a),l(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){N(a).then((function(e){var t=e.totalPages,a=e.posts;p(a),l(t)}))}),[a]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("nav",{className:"navbar navbar-expand-lg",children:Object(o.jsx)("div",{className:"search-area",children:Object(o.jsxs)("div",{className:"search-area-inner d-flex align-items-center justify-content-center",children:[Object(o.jsx)("div",{className:"close-btn",children:Object(o.jsx)("i",{className:"icon-close"})}),Object(o.jsx)("div",{className:"row d-flex justify-content-center",children:Object(o.jsx)("div",{className:"col-md-8",children:Object(o.jsx)("form",{action:"#",onSubmit:y,className:"search-form",children:Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("input",{type:"search",name:"search",id:"search",onChange:function(e){return g(e.target.value)},placeholder:"What are you looking for?"}),Object(o.jsx)("button",{type:"submit",className:"submit",children:Object(o.jsx)("i",{className:"icon-search-1"})})]})})})})]})})}),Object(o.jsx)("main",{className:"posts-listing col-lg-10 m-auto",children:Object(o.jsxs)("div",{className:"container",style:{height:window.screen.height},children:[Object(o.jsx)("div",{className:"row",style:{minHeight:"70%"},children:h.map((function(e){return Object(o.jsx)(v,{data:e},e._id)}))}),Object(o.jsx)("nav",{"aria-label":"Page navigation example",children:Object(o.jsxs)("ul",{className:"pagination pagination-template d-flex justify-content-center mb-3",children:[Object(o.jsx)("li",{className:"page-item  ".concat(0===a?"disabled":""),children:Object(o.jsx)("a",{href:"",className:"page-link",onClick:function(e){return function(e){e.preventDefault(),c(a-1)}(e)},children:Object(o.jsx)("i",{className:"fa fa-angle-left"})})}),w.map((function(e){return Object(o.jsx)("li",{className:"page-item",children:Object(o.jsx)("a",{href:"",className:"page-link ".concat(a===e?"active":""),onClick:function(t){t.preventDefault(),c(e)},children:e+1})},e)})),Object(o.jsx)("li",{className:"page-item  ".concat(a>=i-1?"disabled":""),children:Object(o.jsx)("a",{href:"",className:"page-link",onClick:function(e){return function(e){e.preventDefault(),c(a+1)}(e)},children:Object(o.jsx)("i",{className:"fa fa-angle-right"})})})]})})]})})]})},y=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(h,{}),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)(w,{})})}),Object(o.jsx)(d,{})]})},S=(a(18),function(){var e=Object(l.h)().slug,t=Object(l.f)(),a=Object(s.useState)({}),c=Object(u.a)(a,2),n=c[0],r=c[1],j=Object(s.useState)(!1),b=Object(u.a)(j,2),m=b[0],f=b[1],g=Object(s.useState)(!1),v=Object(u.a)(g,2),N=v[0],w=v[1],y=JSON.parse(window.localStorage.getItem("user")),S=function(e,a){return Object(p.b)(e,{onClose:function(){"success"===a&&t.push("/")},type:"success"===a?p.b.TYPE.SUCCESS:p.b.TYPE.ERROR,position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},k=function(e){fetch("".concat("http://localhost:5000/api","/follow"),{method:"PUT",credentials:"include",headers:{"Content-Type":"Application/json"},body:JSON.stringify({follower:y.userId,followed:n.owner._id,type:e})}).then((function(e){return e.json()})).then((function(e){e.ok&&f(!m)}))};return Object(s.useEffect)((function(){fetch("".concat("http://localhost:5000/api","/posts/").concat(e),{method:"GET",credentials:"include",headers:{"Content-Type":"Application/json"}}).then((function(e){return e.json()})).then((function(e){e.post?(r(e.post),-1!==e.user.followings.indexOf(e.post.owner._id)&&f(!0)):t.push("/")})).catch((function(e){console.log(e)}))}),[]),Object(o.jsxs)("div",{children:[Object(o.jsx)(h,{}),Object(o.jsxs)("div",{className:"container",children:[N?Object(o.jsx)(p.a,{}):null,Object(o.jsx)("div",{className:"row justify-content-around",children:Object(o.jsx)("main",{className:"post blog-post col-lg-10",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"post-single",children:[Object(o.jsx)("div",{className:"post-thumbnail",children:Object(o.jsx)("img",{src:n.image?"".concat("http://localhost:5000/api","/uploads/").concat(n.image):"/img/blog-post-3.jpeg",alt:"...",className:"img-fluid",style:{maxHeight:"32rem"}})}),Object(o.jsxs)("div",{className:"post-details",children:[Object(o.jsx)("div",{className:"post-meta d-flex justify-content-between",children:Object(o.jsx)("div",{className:"category",children:Object(o.jsx)("a",{children:O(n.tags)})})}),Object(o.jsx)("div",{className:"title",children:Object(o.jsx)("span",{children:x(n.created_at)})}),Object(o.jsx)("h1",{children:n.title}),Object(o.jsxs)("div",{className:"post-footer d-flex align-items-center flex-column flex-sm-row",children:[Object(o.jsxs)("a",{href:"#",className:"author d-flex align-items-center flex-wrap",children:[Object(o.jsx)("div",{className:"avatar",children:Object(o.jsx)("img",{src:n.owner&&"/img/".concat(n.owner.avatar),alt:"...",className:"img-fluid"})}),Object(o.jsx)("div",{className:"title",children:Object(o.jsx)("span",{children:n.owner&&"".concat(n.owner.firstName," ").concat(n.owner.lastName)})})]}),n.owner&&y&&y.userId===n.owner._id?Object(o.jsxs)("div",{className:"controls text-right",children:[Object(o.jsx)(i.b,{to:"/".concat(n.slug,"/edit"),className:"btn btn-sm btn-warning m-1",children:Object(o.jsx)("i",{className:"fa fa-pencil"})}),Object(o.jsx)("button",{className:"btn btn-sm btn-danger m-1",onClick:function(){window.confirm("Are you sure?")&&fetch("".concat("http://localhost:5000/api","/posts/").concat(e),{method:"DELETE",credentials:"include",headers:{"Content-Type":"Application/json"}}).then((function(e){return e.json()})).then((function(e){w(!0),S("\ud83d\udca5 Post deleted successfully","success")})).catch((function(e){w(!0),S("\u274c Error deleting post","error")}))},children:Object(o.jsx)("i",{className:"fa fa-trash"})})]}):null,function(){if(n.owner&&y&&y.userId!==n.owner._id)return m?Object(o.jsx)("div",{className:"d-flex align-items-center flex-wrap ml-5",children:Object(o.jsx)("div",{className:"date",children:Object(o.jsxs)("button",{onClick:function(){return k("unfollow")},className:"btn btn-sm btn-outline-warning rounded",children:[Object(o.jsx)("i",{className:"fa fa-user-times"}),"Unfollow"]})})}):Object(o.jsx)("div",{className:"d-flex align-items-center flex-wrap ml-5",children:Object(o.jsx)("div",{className:"date",children:Object(o.jsxs)("button",{onClick:function(){return k("follow")},className:"btn btn-sm btn-outline-success rounded",children:[Object(o.jsx)("i",{className:"fa fa-user-plus"}),"Follow"]})})})}()]}),Object(o.jsx)("div",{className:"post-body",children:Object(o.jsx)("p",{className:"lead",children:n.body})})]})]})})})})]}),Object(o.jsx)(d,{})]})}),k=function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(l.f)();return Object(s.useEffect)((function(){JSON.parse(window.localStorage.getItem("user"))?fetch("".concat("http://localhost:5000/api","/followings"),{method:"GET",credentials:"include",headers:{"Content-Type":"Application/json"}}).then((function(e){return e.json()})).then((function(e){c(e)})):n.push("/")}),[]),Object(o.jsxs)("div",{children:[Object(o.jsx)(h,{}),Object(o.jsx)("div",{className:"container",style:{minHeight:window.screen.height/2},children:Object(o.jsx)("div",{className:"row justify-content-center",children:Object(o.jsx)("main",{className:"posts-listing col-lg-12",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h1",{className:"text-center mb-5",children:"People you follow"}),Object(o.jsx)("div",{className:"row",children:a.map((function(e){return Object(o.jsx)(v,{data:e},e._id)}))})]})})})}),Object(o.jsx)(d,{})]})},C=function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000/api","/profile"),{method:"GET",credentials:"include",headers:{"Content-Type":"Application/json"}});case 2:return e.next=4,e.sent.json();case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.f)(),t=Object(s.useState)({}),a=Object(u.a)(t,2),c=a[0],n=a[1];return Object(s.useEffect)((function(){(function(){var t=Object(m.a)(b.a.mark((function t(){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C();case 3:(a=t.sent)?a.error?e.push("/login"):n(a):console.log("No data"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(o.jsxs)("div",{children:[Object(o.jsx)(h,{}),Object(o.jsx)("div",{className:"container mt-3",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-md-12 text-center",children:Object(o.jsx)("img",{src:"/img/".concat(c.avatar),alt:"",className:"img rounded-circle w-25 img-thumbnail"})}),Object(o.jsxs)("div",{className:"col-md-12 text-center",children:[Object(o.jsxs)("h4",{className:"mt-2",children:[c.firstName," ",c.lastName]}),Object(o.jsxs)("p",{children:["Member since ",x(c.created_at)]})]})]})}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("main",{className:"posts-listing col-md-12 m-auto",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row",children:function(){if(c.posts)return c.posts.map((function(e){return e.owner={firstName:c.firstName,lastName:c.lastName,avatar:c.avatar},e})).map((function(e){return Object(o.jsx)(v,{data:e},e._id)}))}()})})})}),Object(o.jsx)(d,{})]})},E=(a(36),a(12).authFormValidation),T=function(){var e=Object(m.a)(b.a.mark((function e(t,a,s,c,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000/api","/register"),{method:"POST",credentials:"include",headers:{"Content-Type":"Application/json"},body:JSON.stringify({firstName:t,lastName:a,email:s,gender:c,password:n})});case 2:return e.next=4,e.sent.json();case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a,s,c,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(s.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(u.a)(n,2),d=r[0],j=r[1],p=Object(s.useState)(""),x=Object(u.a)(p,2),O=x[0],f=x[1],g=Object(s.useState)(""),v=Object(u.a)(g,2),N=v[0],w=v[1],y=Object(s.useState)(""),S=Object(u.a)(y,2),k=S[0],C=S[1],P=Object(s.useState)({email:"",password:"",firstName:"",lastName:"",gender:""}),A=Object(u.a)(P,2),F=A[0],L=A[1],_=Object(s.useState)(!1),I=Object(u.a)(_,2),R=I[0],D=I[1],J=Object(s.useState)(!1),U=Object(u.a)(J,2),B=U[0],q=U[1],G=Object(l.f)(),H=function(){var e=Object(m.a)(b.a.mark((function e(t){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!E(L,O,N,a,d,k)){e.next=14;break}return q(!0),e.prev=3,e.next=6,T(a,d,O,k,N);case 6:s=e.sent,q(!1),s._id?G.push("/login"):D(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),q(!1);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-12",children:Object(o.jsx)(h,{})})}),Object(o.jsx)("div",{className:"container mt-5",children:Object(o.jsxs)("div",{className:"row py-5 mt-4 align-items-center",children:[Object(o.jsxs)("div",{className:"col-md-5 pr-lg-5 mb-5 mb-md-0",children:[Object(o.jsx)("img",{src:"".concat("http://localhost:3000","/img/login.svg"),alt:"",className:"img-fluid mb-3 d-none d-md-block"}),Object(o.jsx)("h1",{children:"Create an Account"})]}),Object(o.jsxs)("div",{className:"col-md-7 col-lg-6 ml-auto",children:[R?Object(o.jsx)("h5",{className:"text-danger mb-5",children:"Server Error, please try again later"}):"",Object(o.jsx)("form",{action:"#",onSubmit:H,children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"input-group col-lg-12 mb-4",children:[Object(o.jsx)("div",{className:"input-group-prepend",children:Object(o.jsx)("span",{className:"input-group-text bg-white px-4 border-md border-right-0 ".concat(""!==F.firstName&&"valid"!==F.firstName?"border-danger":""),children:Object(o.jsx)("i",{className:"fa fa-user text-muted"})})}),Object(o.jsx)("input",{id:"firstName",type:"text",name:"firstName",className:"form-control bg-white border-left-0 border-md ".concat(""!==F.firstName&&"valid"!==F.firstName?"is-invalid":""),onChange:function(e){return c(e.target.value)},placeholder:"First Name"}),""!==F.firstName&&"valid"!==F.firstName?Object(o.jsx)("h6",{className:"invalid-feedback",children:F.firstName}):null]}),Object(o.jsxs)("div",{className:"input-group col-lg-12 mb-4",children:[Object(o.jsx)("div",{className:"input-group-prepend",children:Object(o.jsx)("span",{className:"input-group-text bg-white px-4 border-md border-right-0 ".concat(""!==F.lastName&&"valid"!==F.lastName?"border-danger":""),children:Object(o.jsx)("i",{className:"fa fa-user text-muted"})})}),Object(o.jsx)("input",{id:"lastName",type:"text",name:"lastName",className:"form-control bg-white border-left-0 border-md ".concat(""!==F.lastName&&"valid"!==F.lastName?"is-invalid":""),onChange:function(e){return j(e.target.value)},placeholder:"Last Name"}),""!==F.lastName&&"valid"!==F.lastName?Object(o.jsx)("h6",{className:"invalid-feedback",children:F.lastName}):null]}),Object(o.jsxs)("div",{className:"input-group col-lg-12 mb-4",children:[Object(o.jsx)("div",{className:"input-group-prepend",children:Object(o.jsx)("span",{className:"input-group-text bg-white px-4 border-md border-right-0 ".concat(""!==F.email&&"valid"!==F.email?"border-danger":""),children:Object(o.jsx)("i",{className:"fa fa-envelope text-muted"})})}),Object(o.jsx)("input",{id:"email",type:"email",name:"email",className:"form-control bg-white border-left-0 border-md ".concat(""!==F.email&&"valid"!==F.email?"is-invalid":""),onChange:function(e){return f(e.target.value)},placeholder:"Email Address"}),""!==F.email&&"valid"!==F.email?Object(o.jsx)("h6",{className:"invalid-feedback",children:F.email}):null]}),Object(o.jsxs)("div",{className:"input-group col-lg-12 mb-4",children:[Object(o.jsx)("div",{className:"input-group-prepend",children:Object(o.jsx)("span",{className:"input-group-text bg-white px-4 border-md border-right-0 ".concat(""!==F.gender&&"valid"!==F.gender?"border-danger":""),children:Object(o.jsx)("i",{className:"fa fa-users text-muted"})})}),Object(o.jsxs)("select",{id:"gender",name:"gender",className:"form-control bg-white border-left-0 border-md ".concat(""!==F.gender&&"valid"!==F.gender?"is-invalid":""),onChange:function(e){return C(e.target.value)},placeholder:"Gender",children:[Object(o.jsx)("option",{value:"",children:"-- Gender --"}),Object(o.jsx)("option",{value:"Male",children:"Male"}),Object(o.jsx)("option",{value:"Female",children:"Female"})]}),""!==F.gender&&"valid"!==F.gender?Object(o.jsx)("h6",{className:"invalid-feedback",children:F.gender}):null]}),Object(o.jsxs)("div",{className:"input-group col-lg-12 mb-4",children:[Object(o.jsx)("div",{className:"input-group-prepend",children:Object(o.jsx)("span",{className:"input-group-text bg-white px-4 border-md border-right-0 ".concat(""!==F.password&&"valid"!==F.password?"border-danger":""),children:Object(o.jsx)("i",{className:"fa fa-lock text-muted"})})}),Object(o.jsx)("input",{id:"password",type:"password",name:"password",placeholder:"Password",onChange:function(e){return w(e.target.value)},className:"form-control bg-white border-left-0 border-md ".concat(""!==F.password&&"valid"!==F.password?"is-invalid":"")}),""!==F.password&&"valid"!==F.password?Object(o.jsx)("h6",{className:"invalid-feedback",children:F.password}):null]}),Object(o.jsx)("div",{className:"form-group col-lg-12 mx-auto mb-0",children:Object(o.jsx)("button",{className:"btn btn-primary btn-block py-2",onClick:H,children:B?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"spinner-border spinner-border-sm m-1"}),Object(o.jsx)("span",{className:"font-weight-bold text-white",children:"Loading..."})]}):Object(o.jsx)("span",{className:"font-weight-bold text-white",children:"Create your account"})})}),Object(o.jsxs)("div",{className:"form-group col-lg-12 mx-auto d-flex align-items-center my-4",children:[Object(o.jsx)("div",{className:"border-bottom w-100 ml-5"}),Object(o.jsx)("span",{className:"px-2 small text-muted font-weight-bold text-muted",children:"OR"}),Object(o.jsx)("div",{className:"border-bottom w-100 mr-5"})]}),Object(o.jsx)("div",{className:"text-center w-100",children:Object(o.jsxs)("p",{className:"text-muted font-weight-bold",children:["Already Registered? ",Object(o.jsx)(i.b,{to:"/login",className:"text-primary ml-2",children:"Login"})]})})]})})]})]})})]})},F=a(12),L=function(){var e=Object(m.a)(b.a.mark((function e(t,a){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000/api","/login"),{method:"POST",credentials:"include",headers:{"Content-Type":"Application/json"},body:JSON.stringify({email:t,password:a})});case 2:return e.next=4,e.sent.json();case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(s.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(u.a)(n,2),d=r[0],j=r[1],p=Object(s.useState)({email:"",password:""}),x=Object(u.a)(p,2),O=x[0],f=x[1],g=Object(s.useState)(!1),v=Object(u.a)(g,2),N=v[0],w=v[1],y=Object(s.useState)(""),S=Object(u.a)(y,2),k=S[0],C=S[1],P=Object(l.f)(),E=function(){var e=Object(m.a)(b.a.mark((function e(t){var s,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Object(F.authFormValidation)(f,a,d)){e.next=14;break}return w(!0),e.prev=3,e.next=6,L(a,d);case 6:s=e.sent,w(!1),s.userId?(c=(new Date).getTime()+parseInt("3600000"),localStorage.setItem("user",JSON.stringify({userId:s.userId,firstName:s.firstName,lastName:s.lastName,email:s.email,expireAt:c})),P.push("/")):C("Wrong credentials!"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),w(!1);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-12",children:Object(o.jsx)(h,{})})}),Object(o.jsx)("div",{className:"container mt-5",children:Object(o.jsxs)("div",{className:"row py-5 mt-4 align-items-center",children:[Object(o.jsxs)("div",{className:"col-md-5 pr-lg-5 mb-5 mb-md-0",children:[Object(o.jsx)("img",{src:"".concat("http://localhost:3000","/img/login.svg"),alt:"",className:"img-fluid mb-3 d-none d-md-block"}),Object(o.jsx)("h1",{children:"Start your session"})]}),Object(o.jsxs)("div",{className:"col-md-7 col-lg-6 ml-auto",children:[k?Object(o.jsx)("h6",{className:"text-danger pb-3",children:k}):"",Object(o.jsx)("form",{action:"#",onSubmit:E,children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"input-group col-lg-12 mb-4",children:[Object(o.jsx)("div",{className:"input-group-prepend",children:Object(o.jsx)("span",{className:"input-group-text bg-white px-4 border-md border-right-0 ".concat(""!==O.email&&"valid"!==O.email?"border-danger":""),children:Object(o.jsx)("i",{className:"fa fa-envelope text-muted"})})}),Object(o.jsx)("input",{id:"email",type:"email",name:"email",className:"form-control bg-white border-left-0 border-md ".concat(""!==O.email&&"valid"!==O.email?"is-invalid":""),onChange:function(e){return c(e.target.value)},placeholder:"Email Address"}),""!==O.email&&"valid"!==O.email?Object(o.jsx)("h6",{className:"invalid-feedback",children:O.email}):null]}),Object(o.jsxs)("div",{className:"input-group col-lg-12 mb-4",children:[Object(o.jsx)("div",{className:"input-group-prepend",children:Object(o.jsx)("span",{className:"input-group-text bg-white px-4 border-md border-right-0 ".concat(""!==O.password&&"valid"!==O.password?"border-danger":""),children:Object(o.jsx)("i",{className:"fa fa-lock text-muted"})})}),Object(o.jsx)("input",{id:"password",type:"password",name:"password",placeholder:"Password",onChange:function(e){return j(e.target.value)},className:"form-control bg-white border-left-0 border-md ".concat(""!==O.password&&"valid"!==O.password?"is-invalid":"")}),""!==O.password&&"valid"!==O.password?Object(o.jsx)("h6",{className:"invalid-feedback",children:O.password}):null]}),Object(o.jsx)("div",{className:"form-group col-lg-12 mx-auto mb-0",children:Object(o.jsx)("button",{onClick:function(e){return E(e)},className:"btn btn-primary btn-block py-2",children:N?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"spinner-border spinner-border-sm m-1"}),Object(o.jsx)("span",{className:"font-weight-bold text-white",children:"Loading..."})]}):Object(o.jsx)("span",{className:"font-weight-bold text-white",children:"Login"})})}),Object(o.jsxs)("div",{className:"form-group col-lg-12 mx-auto d-flex align-items-center my-4",children:[Object(o.jsx)("div",{className:"border-bottom w-100 ml-5"}),Object(o.jsx)("span",{className:"px-2 small text-muted font-weight-bold text-muted",children:"OR"}),Object(o.jsx)("div",{className:"border-bottom w-100 mr-5"})]}),Object(o.jsx)("div",{className:"text-center w-100",children:Object(o.jsxs)("p",{className:"text-muted font-weight-bold",children:["Not a member? ",Object(o.jsx)(i.b,{to:"/register",className:"text-primary ml-2",children:"Register"})]})})]})})]})]})})]})},I=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(h,{}),Object(o.jsx)("div",{className:"container mt-3",style:{height:"25rem"},children:Object(o.jsx)("div",{className:"row align-items-center justify-content-center h-100",children:Object(o.jsxs)("h1",{className:"text-black-50",children:["404 Not found Dude! ",Object(o.jsx)("span",{className:"text-blue",children:"\ud83d\ude0f"})]})})})]})},R=function(){var e=Object(m.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000/api","/posts"),{method:"POST",credentials:"include",headers:{"Content-Type":"Application/json"},body:JSON.stringify(t)});case 2:return e.next=4,e.sent.json();case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.f)(),t=Object(s.useState)(""),a=Object(u.a)(t,2),c=a[0],n=a[1],r=Object(s.useState)(""),i=Object(u.a)(r,2),j=i[0],x=i[1],O=Object(s.useState)(""),v=Object(u.a)(O,2),N=v[0],w=v[1],y=Object(s.useState)(""),S=Object(u.a)(y,2),k=S[0],C=S[1],P=Object(s.useState)(""),E=Object(u.a)(P,2),T=E[0],A=E[1],L=Object(s.useState)({}),_=Object(u.a)(L,2),I=_[0],D=_[1],J=Object(s.useState)(!1),U=Object(u.a)(J,2),B=U[0],q=U[1],G=Object(s.useState)(!1),H=Object(u.a)(G,2),M=H[0],V=H[1],Y=function(){var e=Object(m.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Object(F.addNewPostValidation)(D,c,j,N,k,"new")){e.next=19;break}if(q(!0),a={title:c,body:j,tags:N},e.prev=4,!k){e.next=9;break}return e.next=8,f(k);case 8:a.image=e.sent;case 9:return e.next=11,R(a);case 11:e.sent._id?(q(!1),V(!0),n(""),x(""),w(""),C(""),A(""),t.target.reset(),g("\ud83d\udca5 Post created successfully","success")):q(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),q(!1),g("\ud83d\udca5 Error creating post, please try again later","error");case 19:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){JSON.parse(window.localStorage.getItem("user"))||e.push("/")}),[]),Object(o.jsxs)("div",{children:[Object(o.jsx)(h,{}),Object(o.jsx)("div",{className:"container mt-1",style:{minHeight:window.screen.height/2},children:Object(o.jsxs)("div",{className:"row py-5 mt-1 align-items-center",children:[Object(o.jsx)("div",{className:"col-12",children:M?Object(o.jsx)(p.a,{}):null}),Object(o.jsxs)("div",{className:"col-md-7 col-lg-6 m-auto",children:[Object(o.jsx)("h3",{className:"mb-5 text-center text-black-50",children:"New Post"}),Object(o.jsx)("form",{action:"#",onSubmit:Y,children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"input-group col-lg-12 mb-4",children:[Object(o.jsx)("input",{id:"title",type:"text",name:"title",className:"form-control bg-white border-md ".concat(I.title&&""!==I.title&&"valid"!==I.title?"is-invalid":""),onChange:function(e){return n(e.target.value)},placeholder:"Post title"}),""!==I.title&&"valid"!==I.title?Object(o.jsx)("h6",{className:"invalid-feedback",children:I.title}):null]}),Object(o.jsxs)("div",{className:"input-group col-lg-12 mb-4",children:[Object(o.jsx)("textarea",{id:"body",type:"text",name:"body",placeholder:"Post Body",onChange:function(e){return x(e.target.value)},className:"form-control bg-white border-md ".concat(I.body&&""!==I.body&&"valid"!==I.body?"is-invalid":"")}),""!==I.body&&"valid"!==I.body?Object(o.jsx)("h6",{className:"invalid-feedback",children:I.body}):null]}),Object(o.jsxs)("div",{className:"input-group col-lg-12 mb-4",children:[Object(o.jsx)("input",{id:"tags",type:"text",name:"tags",placeholder:"Post Tags",onChange:function(e){return w(e.target.value)},className:"form-control bg-white border-md ".concat(I.tags&&""!==I.tags&&"valid"!==I.tags?"is-invalid":"")}),""!==I.tags&&"valid"!==I.tags?Object(o.jsx)("h6",{className:"invalid-feedback",children:I.tags}):null]}),Object(o.jsxs)("div",{className:"input-group col-lg-12 mb-4",children:[Object(o.jsx)("input",{id:"image",type:"file",name:"image",accept:".png, .jpg, .jpeg",className:"form-control border-md pb-5 ".concat(I.image&&""!==I.image&&"valid"!==I.image?"is-invalid":""),onChange:function(e){C(e.target.files[0]),A(URL.createObjectURL(e.target.files[0]))}}),""!==I.image&&"valid"!==I.image?Object(o.jsx)("h6",{className:"invalid-feedback",children:I.image}):null]}),""!==k?Object(o.jsx)("div",{className:"col-lg-12 mb-4",children:Object(o.jsx)("img",{src:T,className:"img-thumbnail",alt:""})}):"",Object(o.jsx)("div",{className:"form-group col-lg-12 mx-auto mb-0",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-primary btn-block py-2",children:B?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"spinner-border spinner-border-sm m-1"}),Object(o.jsx)("span",{className:"font-weight-bold text-white",children:"Loading..."})]}):Object(o.jsx)("span",{className:"font-weight-bold text-white",children:"Post"})})})]})})]})]})}),Object(o.jsx)(d,{})]})},J=function(){var e=Object(m.a)(b.a.mark((function e(t,a){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000/api","/posts/").concat(a),{method:"PUT",credentials:"include",headers:{"Content-Type":"Application/json"},body:JSON.stringify(t)});case 2:return e.next=4,e.sent.json();case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.h)().slug,t=Object(l.f)(),a=Object(s.useState)(0),c=Object(u.a)(a,2),n=c[0],r=c[1],i=Object(s.useState)(""),j=Object(u.a)(i,2),x=j[0],O=j[1],v=Object(s.useState)(""),N=Object(u.a)(v,2),w=N[0],y=N[1],S=Object(s.useState)(""),k=Object(u.a)(S,2),C=k[0],P=k[1],E=Object(s.useState)(""),T=Object(u.a)(E,2),A=T[0],L=T[1],_=Object(s.useState)(""),I=Object(u.a)(_,2),R=I[0],D=I[1],U=Object(s.useState)({}),B=Object(u.a)(U,2),q=B[0],G=B[1],H=Object(s.useState)(!1),M=Object(u.a)(H,2),V=M[0],Y=M[1],z=Object(s.useState)(!1),W=Object(u.a)(z,2),Z=W[0],$=W[1],K=function(){var a=Object(m.a)(b.a.mark((function a(s){var c,r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),c={title:x,body:w,tags:C,id:n},!Object(F.addNewPostValidation)(G,x,w,C,A,"update")){a.next=20;break}if(Y(!0),a.prev=4,!A){a.next=9;break}return a.next=8,f(A);case 8:c.image=a.sent;case 9:return a.next=11,J(c,e);case 11:(r=a.sent)._id||r.n>0?(Y(!1),$(!0),O(""),y(""),P(""),L(""),D(""),s.target.reset(),g("\ud83d\udca5 Post updated successfully","success",t,"/myposts")):(Y(!1),g("\ud83d\udca5 Error updating post, please try again later","error")),a.next=20;break;case 15:a.prev=15,a.t0=a.catch(4),Y(!1),$(!0),g("\ud83d\udca5 Error updating post, please try again later","error");case 20:case"end":return a.stop()}}),a,null,[[4,15]])})));return function(e){return a.apply(this,arguments)}}();return Object(s.useEffect)((function(){var a=JSON.parse(window.localStorage.getItem("user"));a?fetch("".concat("http://localhost:5000/api","/posts/").concat(e),{method:"GET",credentials:"include",headers:{"Content-Type":"Application/json"}}).then((function(e){return e.json()})).then((function(e){a.userId===e.post.owner._id?(O(e.post.title),r(e.post._id),y(e.post.body),P(e.post.tags)):t.push("/")})).catch((function(e){console.log(e)})):t.push("/")}),[]),Object(o.jsxs)("div",{children:[Object(o.jsx)(h,{}),Object(o.jsx)("div",{className:"container mt-1",style:{minHeight:window.screen.height/2},children:Object(o.jsxs)("div",{className:"row py-5 mt-1 align-items-center",children:[Object(o.jsx)("div",{className:"col-12",children:Z?Object(o.jsx)(p.a,{}):null}),Object(o.jsxs)("div",{className:"col-md-7 col-lg-6 m-auto",children:[Object(o.jsx)("h3",{className:"mb-5 text-center text-black-50",children:"Update Post"}),Object(o.jsx)("form",{action:"#",onSubmit:K,children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("div",{className:"input-group col-lg-12 mb-4",children:[Object(o.jsx)("input",{id:"title",type:"text",name:"title",value:x,className:"form-control bg-white border-md ".concat(q.title&&""!==q.title&&"valid"!==q.title?"is-invalid":""),onChange:function(e){return O(e.target.value)},placeholder:"Post title"}),""!==q.title&&"valid"!==q.title?Object(o.jsx)("h6",{className:"invalid-feedback",children:q.title}):null]}),Object(o.jsxs)("div",{className:"input-group col-lg-12 mb-4",children:[Object(o.jsx)("textarea",{id:"body",type:"text",name:"body",placeholder:"Post Body",value:w,onChange:function(e){return y(e.target.value)},className:"form-control bg-white border-md ".concat(q.body&&""!==q.body&&"valid"!==q.body?"is-invalid":"")}),""!==q.body&&"valid"!==q.body?Object(o.jsx)("h6",{className:"invalid-feedback",children:q.body}):null]}),Object(o.jsxs)("div",{className:"input-group col-lg-12 mb-4",children:[Object(o.jsx)("input",{id:"tags",type:"text",name:"tags",placeholder:"Post Tags",value:C,onChange:function(e){return P(e.target.value)},className:"form-control bg-white border-md ".concat(q.tags&&""!==q.tags&&"valid"!==q.tags?"is-invalid":"")}),""!==q.tags&&"valid"!==q.tags?Object(o.jsx)("h6",{className:"invalid-feedback",children:q.tags}):null]}),Object(o.jsx)("div",{className:"input-group col-lg-12 mb-1",children:Object(o.jsx)("input",{id:"image",type:"file",name:"image",accept:".png, .jpg, .jpeg",className:"form-control border-md pb-5",onChange:function(e){L(e.target.files[0]),D(URL.createObjectURL(e.target.files[0]))}})}),""!==A?Object(o.jsx)("div",{className:"col-lg-12 mb-4",children:Object(o.jsx)("img",{src:R,className:"img-thumbnail",alt:""})}):"",Object(o.jsx)("div",{className:"form-group col-lg-12 mx-auto mb-0",children:Object(o.jsx)("button",{type:"submit",className:"btn btn-primary btn-block py-2",children:V?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"spinner-border spinner-border-sm m-1"}),Object(o.jsx)("span",{className:"font-weight-bold text-white",children:"Loading..."})]}):Object(o.jsx)("span",{className:"font-weight-bold text-white",children:"Update"})})})]})})]})]})}),Object(o.jsx)(d,{})]})},B=function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(l.f)();return Object(s.useEffect)((function(){JSON.parse(window.localStorage.getItem("user"))?fetch("".concat("http://localhost:5000/api","/myposts"),{method:"GET",credentials:"include",headers:{"Content-Type":"Application/json"}}).then((function(e){return e.json()})).then((function(e){c(e)})):n.push("/")}),[]),Object(o.jsxs)("div",{children:[Object(o.jsx)(h,{}),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("div",{className:"row justify-content-center",children:Object(o.jsx)("main",{className:"posts-listing col-lg-12",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h1",{className:"text-center mb-5",children:"My posts"}),Object(o.jsx)("div",{className:"row",children:a.map((function(e){return Object(o.jsx)(v,{data:e},e._id)}))})]})})})}),Object(o.jsx)(d,{})]})};var q=function(){return Object(o.jsx)("div",{className:"header",children:Object(o.jsxs)(l.c,{children:[Object(o.jsx)(l.a,{path:"/",component:y,exact:!0}),Object(o.jsx)(l.a,{path:"/posts/create",component:D}),Object(o.jsx)(l.a,{path:"/register",component:A}),Object(o.jsx)(l.a,{path:"/login",component:_}),Object(o.jsx)(l.a,{path:"/profile",component:P}),Object(o.jsx)(l.a,{path:"/myposts",component:B}),Object(o.jsx)(l.a,{path:"/followings",component:k}),Object(o.jsx)(l.a,{path:"/:slug/edit",component:U}),Object(o.jsx)(l.a,{path:"/:slug",component:S}),Object(o.jsx)(l.a,{component:I})]})})},G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,38)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),s(e),c(e),n(e),r(e)}))},H=Object(s.createContext)().Provider,M=function(e){var t=e.children,a=Object(s.useState)(),c=Object(u.a)(a,2),n=c[0],r=c[1];return Object(o.jsx)(H,{value:{user:n,setUser:r},children:t})};r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(i.a,{children:Object(o.jsx)(M,{children:Object(o.jsx)(q,{})})})}),document.getElementById("root")),G()}},[[37,1,2]]]);
//# sourceMappingURL=main.13a267d8.chunk.js.map